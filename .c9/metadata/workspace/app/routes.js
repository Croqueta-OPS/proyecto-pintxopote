{"filter":false,"title":"routes.js","tooltip":"/app/routes.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":194,"column":19},"end":{"row":194,"column":33},"action":"remove","lines":["edita-usuarios"]},{"start":{"row":194,"column":19},"end":{"row":194,"column":20},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":194,"column":20},"end":{"row":194,"column":21},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":194,"column":21},"end":{"row":194,"column":22},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":194,"column":22},"end":{"row":194,"column":23},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":194,"column":23},"end":{"row":194,"column":24},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":194,"column":24},"end":{"row":194,"column":25},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":194,"column":25},"end":{"row":194,"column":26},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":197,"column":16},"end":{"row":197,"column":17},"action":"remove","lines":["é"]}]}],[{"group":"doc","deltas":[{"start":{"row":200,"column":23},"end":{"row":200,"column":29},"action":"remove","lines":["nombre"]}]}],[{"group":"doc","deltas":[{"start":{"row":200,"column":22},"end":{"row":200,"column":23},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":186,"column":37},"end":{"row":186,"column":97},"action":"remove","lines":["{nombre: req.body.nombre, descripcion: req.body.descripcion}"]},{"start":{"row":186,"column":37},"end":{"row":190,"column":35},"action":"insert","lines":["{ fechaNac: '1988/04/26',","     sexo: 'Mujer',","     nomUsuario: 'Sheyla',","     password: '$2a$08$nC288wGYeU8h2IyvQLIy6umObN0gJg2YyxCOL3/0s.OZyPsgNLLZa',","     email: 'sheilapbi@gmail.com' }"]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":0},"end":{"row":187,"column":2},"action":"insert","lines":["\t\t"]},{"start":{"row":188,"column":0},"end":{"row":188,"column":2},"action":"insert","lines":["\t\t"]},{"start":{"row":189,"column":0},"end":{"row":189,"column":2},"action":"insert","lines":["\t\t"]},{"start":{"row":190,"column":0},"end":{"row":190,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":0},"end":{"row":187,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":188,"column":0},"end":{"row":188,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":189,"column":0},"end":{"row":189,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":190,"column":0},"end":{"row":190,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":0},"end":{"row":187,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":188,"column":0},"end":{"row":188,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":189,"column":0},"end":{"row":189,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":190,"column":0},"end":{"row":190,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":1},"end":{"row":171,"column":37},"action":"remove","lines":["\t//Creamos una variable para crear un objeto de tipo Pintxo","\t\tvar user = new User ({ fechaNac: '1988/04/26',","     sexo: 'Mujer',","     nomUsuario: 'Sheyla',","     password: '$2a$08$nC288wGYeU8h2IyvQLIy6umObN0gJg2YyxCOL3/0s.OZyPsgNLLZa',","     email: 'sheilapbi@gmail.com' });"]},{"start":{"row":170,"column":34},"end":{"row":202,"column":5},"action":"remove","lines":["","","\t\t  \t//Si existe un error","\t\t\tif(err){","\t\t\t\t","\t\t\t\t//Muestra por consola el error","\t\t    \tconsole.log('ERROR: ' + err);","\t\t    \t","\t\t\t}","\t\t\telse{","\t\t\t\t//Muestra el mensaje por consola","\t\t\t\t\tUser.update({_id: req.body.id}, { fechaNac: '1988/04/26',","\t\t\t\t     sexo: 'Mujer',","\t\t\t\t     nomUsuario: 'Sheyla',","\t\t\t\t     password: '$2a$08$nC288wGYeU8h2IyvQLIy6umObN0gJg2YyxCOL3/0s.OZyPsgNLLZa',","\t\t\t\t     email: 'sheilapbi@gmail.com' }, null, function (err) {","","\t\t\t//Si hay error","\t\t\tif (err){","\t\t      \t//Muestra por consola el error","\t\t    \tconsole.log('ERROR: ' + err);","\t\t    }else{","\t\t    \t//redireccionamos a la página /edita-pintxos","\t\t\t\tres.redirect('/profile')","\t\t    }","","\t\t//Cierre del mtodo update","\t\t});","\t\t","  \t\t\t\tconsole.log(user + ' ha sido guardado.');","\t\t\t\t","\t\t\t}","\t\t});"]}]}],[{"group":"doc","deltas":[{"start":{"row":169,"column":0},"end":{"row":171,"column":2},"action":"remove","lines":["\t\t//Para guardar dicha instancia en la base de datos","\t\tuser.save(function (err, user) {","\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":1},"end":{"row":166,"column":2},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":2},"end":{"row":166,"column":6},"action":"insert","lines":["var "]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":6},"end":{"row":166,"column":8},"action":"insert","lines":["id"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":8},"end":{"row":166,"column":9},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":9},"end":{"row":166,"column":11},"action":"insert","lines":["= "]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":11},"end":{"row":166,"column":29},"action":"insert","lines":["{ name: 'borne' };"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":13},"end":{"row":166,"column":17},"action":"remove","lines":["name"]},{"start":{"row":166,"column":13},"end":{"row":166,"column":15},"action":"insert","lines":["_i"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":15},"end":{"row":166,"column":16},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":18},"end":{"row":166,"column":25},"action":"remove","lines":["'borne'"]},{"start":{"row":166,"column":18},"end":{"row":166,"column":33},"action":"insert","lines":["req.body.nombre"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":27},"end":{"row":166,"column":33},"action":"remove","lines":["nombre"]},{"start":{"row":166,"column":27},"end":{"row":166,"column":29},"action":"insert","lines":["id"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":32},"end":{"row":166,"column":33},"action":"insert","lines":["ç"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":32},"end":{"row":166,"column":33},"action":"remove","lines":["ç"]},{"start":{"row":166,"column":32},"end":{"row":167,"column":2},"action":"insert","lines":["","\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":2},"end":{"row":168,"column":2},"action":"insert","lines":["","\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":2},"end":{"row":168,"column":81},"action":"insert","lines":["Model.findOneAndUpdate(id, { $set: { name: 'jason borne' }}, options, callback)"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":39},"end":{"row":168,"column":43},"action":"remove","lines":["name"]},{"start":{"row":168,"column":39},"end":{"row":168,"column":47},"action":"insert","lines":["username"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":49},"end":{"row":168,"column":62},"action":"remove","lines":["'jason borne'"]},{"start":{"row":168,"column":49},"end":{"row":168,"column":64},"action":"insert","lines":["req.body.nombre"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":67},"end":{"row":168,"column":76},"action":"remove","lines":[", options"]},{"start":{"row":168,"column":78},"end":{"row":168,"column":79},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":2},"end":{"row":168,"column":7},"action":"remove","lines":["Model"]},{"start":{"row":168,"column":2},"end":{"row":168,"column":6},"action":"insert","lines":["User"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":68},"end":{"row":168,"column":78},"action":"remove","lines":["callback);"]},{"start":{"row":168,"column":68},"end":{"row":183,"column":4},"action":"insert","lines":["null, function (err) {","","\t\t\t//Si hay error","\t\t\tif (err){","\t\t      \t//Muestra por consola el error","\t\t    \tconsole.log('ERROR: ' + err);","\t\t    }else{","\t\t    \t//redireccionamos a la página /edita-pintxos","\t\t\t\tres.redirect('/pro')","\t\t    }","","\t\t//Cierre del método update","\t\t});","\t\t","\t//Cierre de la función","\t});"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":22},"end":{"row":176,"column":26},"action":"insert","lines":["file"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":0},"end":{"row":170,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":171,"column":0},"end":{"row":171,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":172,"column":0},"end":{"row":172,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":173,"column":0},"end":{"row":173,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":174,"column":0},"end":{"row":174,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":175,"column":0},"end":{"row":175,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":176,"column":0},"end":{"row":176,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":177,"column":0},"end":{"row":177,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":179,"column":0},"end":{"row":179,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":180,"column":0},"end":{"row":180,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":182,"column":0},"end":{"row":182,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":183,"column":0},"end":{"row":183,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":0},"end":{"row":189,"column":4},"action":"remove","lines":["","","","\t","\t//Cierre de la función","\t});"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":57},"end":{"row":168,"column":63},"action":"remove","lines":["nombre"]},{"start":{"row":168,"column":57},"end":{"row":168,"column":69},"action":"insert","lines":["nomUsuruario"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":63},"end":{"row":168,"column":65},"action":"remove","lines":["ru"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":57},"end":{"row":168,"column":67},"action":"remove","lines":["nomUsuario"]},{"start":{"row":168,"column":57},"end":{"row":168,"column":67},"action":"insert","lines":["nomUsuario"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":23},"end":{"row":164,"column":34},"action":"remove","lines":["descripcion"]},{"start":{"row":164,"column":23},"end":{"row":164,"column":25},"action":"insert","lines":["id"]}]}],[{"group":"doc","deltas":[{"start":{"row":163,"column":23},"end":{"row":163,"column":29},"action":"remove","lines":["nombre"]},{"start":{"row":163,"column":23},"end":{"row":163,"column":33},"action":"insert","lines":["nomUsuario"]}]}],[{"group":"doc","deltas":[{"start":{"row":163,"column":23},"end":{"row":163,"column":33},"action":"remove","lines":["nomUsuario"]},{"start":{"row":163,"column":23},"end":{"row":163,"column":31},"action":"insert","lines":["username"]},{"start":{"row":168,"column":38},"end":{"row":168,"column":46},"action":"remove","lines":["username"]},{"start":{"row":168,"column":38},"end":{"row":168,"column":48},"action":"insert","lines":["nomUsuario"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":59},"end":{"row":168,"column":69},"action":"remove","lines":["nomUsuario"]},{"start":{"row":168,"column":59},"end":{"row":168,"column":67},"action":"insert","lines":["username"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":29},"end":{"row":177,"column":19},"action":"insert","lines":["","\t\t\t\t\tconsole.log();"]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":17},"end":{"row":177,"column":19},"action":"insert","lines":["id"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":6},"end":{"row":168,"column":11},"action":"insert","lines":[".user"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":7},"end":{"row":168,"column":12},"action":"remove","lines":["user."]}]}],[{"group":"doc","deltas":[{"start":{"row":149,"column":51},"end":{"row":150,"column":57},"action":"insert","lines":["","\t\t    \tconsole.log(pintxo.nombre + ' ha sido guardado.');"]}]}],[{"group":"doc","deltas":[{"start":{"row":150,"column":19},"end":{"row":150,"column":55},"action":"remove","lines":["pintxo.nombre + ' ha sido guardado.'"]}]}],[{"group":"doc","deltas":[{"start":{"row":150,"column":19},"end":{"row":150,"column":30},"action":"insert","lines":["req.body.id"]}]}],[{"group":"doc","deltas":[{"start":{"row":142,"column":31},"end":{"row":142,"column":32},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":27},"end":{"row":167,"column":28},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":169,"column":7},"end":{"row":169,"column":23},"action":"remove","lines":["findOneAndUpdate"]},{"start":{"row":169,"column":7},"end":{"row":169,"column":13},"action":"insert","lines":["update"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":0},"end":{"row":167,"column":33},"action":"remove","lines":["","\t\tvar id = { _id: req.body._id };"]},{"start":{"row":168,"column":14},"end":{"row":168,"column":16},"action":"remove","lines":["id"]},{"start":{"row":168,"column":14},"end":{"row":168,"column":31},"action":"insert","lines":["_id: req.body._id"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":32},"end":{"row":168,"column":40},"action":"remove","lines":[" { $set:"]},{"start":{"row":168,"column":66},"end":{"row":168,"column":67},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":14},"end":{"row":168,"column":15},"action":"insert","lines":["{"]},{"start":{"row":168,"column":32},"end":{"row":168,"column":33},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":150,"column":28},"end":{"row":150,"column":29},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":150,"column":28},"end":{"row":150,"column":29},"action":"remove","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":0},"end":{"row":178,"column":0},"action":"remove","lines":["\t\t\t\t\tconsole.log(id);",""]}]}],[{"group":"doc","deltas":[{"start":{"row":165,"column":23},"end":{"row":165,"column":24},"action":"insert","lines":["_"]},{"start":{"row":176,"column":29},"end":{"row":177,"column":5},"action":"insert","lines":["","\t\t\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":29},"end":{"row":177,"column":33},"action":"insert","lines":[";","\t\t\t\t\t\t\tconsole.log(req.body._id);"]},{"start":{"row":177,"column":33},"end":{"row":178,"column":5},"action":"remove","lines":["","\t\t\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":5},"end":{"row":177,"column":7},"action":"remove","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":142,"column":96},"end":{"row":142,"column":98},"action":"insert","lines":["*/"]}]}],[{"group":"doc","deltas":[{"start":{"row":142,"column":61},"end":{"row":142,"column":63},"action":"insert","lines":["/*"]}]}],[{"group":"doc","deltas":[{"start":{"row":142,"column":61},"end":{"row":142,"column":63},"action":"remove","lines":["/*"]},{"start":{"row":142,"column":96},"end":{"row":142,"column":98},"action":"remove","lines":["*/"]}]}],[{"group":"doc","deltas":[{"start":{"row":165,"column":23},"end":{"row":165,"column":24},"action":"remove","lines":["_"]},{"start":{"row":168,"column":29},"end":{"row":168,"column":30},"action":"remove","lines":["_"]},{"start":{"row":177,"column":26},"end":{"row":177,"column":27},"action":"remove","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":0},"end":{"row":167,"column":2},"action":"insert","lines":["","\t\t"]},{"start":{"row":169,"column":2},"end":{"row":169,"column":4},"action":"insert","lines":["/*"]},{"start":{"row":182,"column":6},"end":{"row":182,"column":8},"action":"insert","lines":["*/"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":2},"end":{"row":191,"column":5},"action":"insert","lines":["var user = new Pintxo ({","","\t\t\tnombre: req.body.nombre,","\t\t\tdescripcion: req.body.descripcion,","\t\t\timg: \"default\"//hasta que aprendamos a subir archivos se mantiene imagen por defecto","","\t\t});","","","\t\t//Para guardar dicha instancia en la base de datos","\t\tpintxo.save(function (err, pintxo) {","","\t\t  \t//Si existe un error","\t\t\tif(err){","\t\t\t\t","\t\t\t\t//Muestra por consola el error","\t\t    \tconsole.log('ERROR: ' + err);","\t\t    \t","\t\t\t}","\t\t\telse{","\t\t\t\t//Muestra el mensaje por consola","  \t\t\t\tconsole.log(pintxo.nombre + ' ha sido guardado.');","\t\t\t\tres.redirect('/edita-pintxos');","\t\t\t}","\t\t});"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":8},"end":{"row":167,"column":10},"action":"remove","lines":["er"]},{"start":{"row":167,"column":8},"end":{"row":167,"column":13},"action":"insert","lines":["uario"]},{"start":{"row":167,"column":20},"end":{"row":167,"column":26},"action":"remove","lines":["Pintxo"]},{"start":{"row":167,"column":20},"end":{"row":167,"column":24},"action":"insert","lines":["User"]}]}],[{"group":"doc","deltas":[{"start":{"row":169,"column":0},"end":{"row":172,"column":0},"action":"remove","lines":["\t\t\tnombre: req.body.nombre,","\t\t\tdescripcion: req.body.descripcion,","\t\t\timg: \"default\"//hasta que aprendamos a subir archivos se mantiene imagen por defecto",""]},{"start":{"row":169,"column":0},"end":{"row":175,"column":0},"action":"insert","lines":["\t        nomUsuario   : String,","\t        email        : String,","\t        password     : String,","\t        administrador: String,","\t        sexo         : String,","\t        fechaNac     : String",""]}]}],[{"group":"doc","deltas":[{"start":{"row":169,"column":24},"end":{"row":169,"column":30},"action":"remove","lines":["String"]},{"start":{"row":169,"column":24},"end":{"row":169,"column":41},"action":"insert","lines":["req.body.username"]},{"start":{"row":170,"column":24},"end":{"row":170,"column":30},"action":"remove","lines":["String"]},{"start":{"row":170,"column":24},"end":{"row":170,"column":34},"action":"insert","lines":["req.body.e"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":34},"end":{"row":170,"column":38},"action":"insert","lines":["mail"]},{"start":{"row":171,"column":24},"end":{"row":171,"column":30},"action":"remove","lines":["String"]},{"start":{"row":171,"column":24},"end":{"row":171,"column":41},"action":"insert","lines":["req.body.password"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":0},"end":{"row":173,"column":0},"action":"remove","lines":["\t        administrador: String,",""]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":24},"end":{"row":172,"column":30},"action":"remove","lines":["String"]},{"start":{"row":172,"column":24},"end":{"row":172,"column":39},"action":"insert","lines":["req.body.gender"]},{"start":{"row":173,"column":24},"end":{"row":173,"column":30},"action":"remove","lines":["String"]},{"start":{"row":173,"column":24},"end":{"row":173,"column":41},"action":"insert","lines":["req.body.username"]}]}],[{"group":"doc","deltas":[{"start":{"row":173,"column":33},"end":{"row":173,"column":41},"action":"remove","lines":["username"]},{"start":{"row":173,"column":33},"end":{"row":173,"column":41},"action":"insert","lines":["birthday"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":2},"end":{"row":179,"column":8},"action":"remove","lines":["pintxo"]},{"start":{"row":179,"column":2},"end":{"row":179,"column":9},"action":"insert","lines":["usuario"]},{"start":{"row":179,"column":30},"end":{"row":179,"column":36},"action":"remove","lines":["pintxo"]},{"start":{"row":179,"column":30},"end":{"row":179,"column":37},"action":"insert","lines":["usuario"]}]}],[{"group":"doc","deltas":[{"start":{"row":190,"column":18},"end":{"row":190,"column":24},"action":"remove","lines":["pintxo"]},{"start":{"row":190,"column":18},"end":{"row":190,"column":25},"action":"insert","lines":["usuario"]},{"start":{"row":190,"column":26},"end":{"row":190,"column":32},"action":"remove","lines":["nombre"]}]}],[{"group":"doc","deltas":[{"start":{"row":190,"column":26},"end":{"row":190,"column":27},"action":"remove","lines":[" "]},{"start":{"row":190,"column":26},"end":{"row":190,"column":33},"action":"insert","lines":["nombre "]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":36},"end":{"row":179,"column":37},"action":"remove","lines":["o"]},{"start":{"row":179,"column":36},"end":{"row":179,"column":37},"action":"insert","lines":["o"]},{"start":{"row":190,"column":18},"end":{"row":190,"column":25},"action":"remove","lines":["usuario"]},{"start":{"row":190,"column":18},"end":{"row":190,"column":24},"action":"insert","lines":["pintxo"]}]}],[{"group":"doc","deltas":[{"start":{"row":191,"column":19},"end":{"row":191,"column":32},"action":"remove","lines":["edita-pintxos"]},{"start":{"row":191,"column":19},"end":{"row":191,"column":20},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":190,"column":18},"end":{"row":190,"column":24},"action":"remove","lines":["pintxo"]},{"start":{"row":190,"column":18},"end":{"row":190,"column":25},"action":"insert","lines":["usuario"]},{"start":{"row":191,"column":20},"end":{"row":191,"column":26},"action":"insert","lines":["rofile"]}]}],[{"group":"doc","deltas":[{"start":{"row":190,"column":26},"end":{"row":190,"column":32},"action":"remove","lines":["nombre"]},{"start":{"row":190,"column":26},"end":{"row":190,"column":36},"action":"insert","lines":["nomUsuario"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":2},"end":{"row":193,"column":5},"action":"remove","lines":["console.log(req.body.username);","\t\tconsole.log(req.body.id);","","\t\tvar usuario = new User ({","","\t        nomUsuario   : req.body.username,","\t        email        : req.body.email,","\t        password     : req.body.password,","\t        sexo         : req.body.gender,","\t        fechaNac     : req.body.birthday","","\t\t});","","","\t\t//Para guardar dicha instancia en la base de datos","\t\tusuario.save(function (err, usuario) {","","\t\t  \t//Si existe un error","\t\t\tif(err){","\t\t\t\t","\t\t\t\t//Muestra por consola el error","\t\t    \tconsole.log('ERROR: ' + err);","\t\t    \t","\t\t\t}","\t\t\telse{","\t\t\t\t//Muestra el mensaje por consola","  \t\t\t\tconsole.log(usuario.nomUsuario + ' ha sido guardado.');","\t\t\t\tres.redirect('/profile');","\t\t\t}","\t\t});"]},{"start":{"row":164,"column":2},"end":{"row":193,"column":5},"action":"insert","lines":["console.log(req.body.username);","\t\tconsole.log(req.body.id);","","\t\tvar usuario = new User ({","","\t        nomUsuario   : req.body.username,","\t        email        : req.body.email,","\t        password     : req.body.password,","\t        sexo         : req.body.gender,","\t        fechaNac     : req.body.birthday","","\t\t});","","","\t\t//Para guardar dicha instancia en la base de datos","\t\tusuario.save(function (err, usuario) {","","\t\t  \t//Si existe un error","\t\t\tif(err){","\t\t\t\t","\t\t\t\t//Muestra por consola el error","\t\t    \tconsole.log('ERROR: ' + err);","\t\t    \t","\t\t\t}","\t\t\telse{","\t\t\t\t//Muestra el mensaje por consola","  \t\t\t\tconsole.log(usuario.nomUsuario + ' ha sido guardado.');","\t\t\t\tres.redirect('/profile');","\t\t\t}","\t\t});"]}]}],[{"group":"doc","deltas":[{"start":{"row":165,"column":27},"end":{"row":193,"column":5},"action":"remove","lines":["","","\t\tvar usuario = new User ({","","\t        nomUsuario   : req.body.username,","\t        email        : req.body.email,","\t        password     : req.body.password,","\t        sexo         : req.body.gender,","\t        fechaNac     : req.body.birthday","","\t\t});","","","\t\t//Para guardar dicha instancia en la base de datos","\t\tusuario.save(function (err, usuario) {","","\t\t  \t//Si existe un error","\t\t\tif(err){","\t\t\t\t","\t\t\t\t//Muestra por consola el error","\t\t    \tconsole.log('ERROR: ' + err);","\t\t    \t","\t\t\t}","\t\t\telse{","\t\t\t\t//Muestra el mensaje por consola","  \t\t\t\tconsole.log(usuario.nomUsuario + ' ha sido guardado.');","\t\t\t\tres.redirect('/profile');","\t\t\t}","\t\t});"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":2},"end":{"row":167,"column":4},"action":"remove","lines":["/*"]},{"start":{"row":180,"column":6},"end":{"row":180,"column":8},"action":"remove","lines":["*/"]}]}],[{"group":"doc","deltas":[{"start":{"row":183,"column":5},"end":{"row":184,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":1},"end":{"row":103,"column":1},"action":"insert","lines":["","\t\tapp.post('/actualiza-usuarios',  isLoggedIn, function(req, res) {","\t\t","\t\tconsole.log(req.body.username);","\t\tconsole.log(req.body.id);","\t\t","\t\tUser.update({_id: req.body.id}, { nomUsuario: req.body.username }, null, function (err) {","","\t\t\t\t//Si hay error","\t\t\t\tif (err){","\t\t\t      \t//Muestra por consola el error","\t\t\t    \tconsole.log('ERROR: ' + err);","\t\t\t    }else{","\t\t\t    \t//redireccionamos a la página /edita-pintxos","\t\t\t\t\tres.redirect('/profile');","\t\t\t\t\tconsole.log(req.body.id);","\t\t\t    }","","\t\t\t//Cierre del método update","\t\t\t});","\t\t","\t\t//Cierre de la función","\t\t});","\t","\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":101,"column":5},"end":{"row":102,"column":1},"action":"remove","lines":["","\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":1},"end":{"row":80,"column":2},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":101,"column":1},"end":{"row":101,"column":2},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":183,"column":0},"end":{"row":208,"column":50},"action":"remove","lines":["\t/////////////////////////////////////////////////////","","\tapp.post('/actualiza-usuarios',  isLoggedIn, function(req, res) {","\t\t","\t\tconsole.log(req.body.username);","\t\tconsole.log(req.body.id);","\t\t","\t\tUser.update({_id: req.body.id}, { nomUsuario: req.body.username }, null, function (err) {","","\t\t\t\t//Si hay error","\t\t\t\tif (err){","\t\t\t      \t//Muestra por consola el error","\t\t\t    \tconsole.log('ERROR: ' + err);","\t\t\t    }else{","\t\t\t    \t//redireccionamos a la página /edita-pintxos","\t\t\t\t\tres.redirect('/profile');","\t\t\t\t\tconsole.log(req.body.id);","\t\t\t    }","","\t\t\t//Cierre del método update","\t\t\t});","\t\t","\t\t//Cierre de la función","\t\t});","\t","\t/////////////////////////////////////////////////"]},{"start":{"row":183,"column":0},"end":{"row":248,"column":71},"action":"insert","lines":["//BORRAR SI NO FUNCSIONA//////////////////////////","    app.post('/actualiza-usuarios',  isLoggedIn, function(req, res) {","        ","        //console.log(\"prueba\"+\" \"+req.body.id);","        //console.log(req.body.username);","","","        User.findById(req.body.id, function(err, user){","            if (!user)","                return next(new Error('Could not load Document'));","            else {","                ","                user.local.nomUsuario = req.body.username;","                user.local.email = req.body.email;","                user.local.sexo = req.body.gender;","                user.local.fechaNac = req.body.birthday;","","                user.save(function(err) {","                    if (err)","                        console.log('error');","                    else","                        console.log('success');","                    res.redirect('/profile');","                });","            }","        });","        ","        /*","        User.findById(req.body.id).lean().exec(function(err, p) {","          if (!p)","            return next(new Error('Could not load Document'));","          else {","            p = p.toJSON;","            User.update({_id: req.body.id},{$set:{nomUsuario: req.body.username, email: req.body.email, sexo: req.body.gender, fechaNac: req.body.birthday}}, function (err) {","            //Si hay error","            if (err){","                  //Muestra por consola el error","                console.log('ERROR: ' + err);","            }else{","                //redireccionamos a la página /edita-pintxos","                 res.redirect('/profile')","                 console.log('entra');","                 console.log(req.body.id);","                 console.log(p);","                console.log(req.body.username+\" 2\");","","            }","","        //Cierre del método update","        });","    */","            /*","            p.save(function(err) {","              if (err)","                console.log('error')","              else","                console.log('success')","            });","          }","        });*/","        ","        ","        ","    //Cierre de la función","    });","    ///////////////////////////////////////////////////////////////////"]}]}],[{"group":"doc","deltas":[{"start":{"row":231,"column":22},"end":{"row":231,"column":23},"action":"remove","lines":["é"]}]}],[{"group":"doc","deltas":[{"start":{"row":231,"column":22},"end":{"row":231,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":1},"end":{"row":101,"column":4},"action":"remove","lines":["app.post('/actualiza-usuarios',  isLoggedIn, function(req, res) {","\t\t","\t\tconsole.log(req.body.username);","\t\tconsole.log(req.body.id);","\t\t","\t\tUser.update({_id: req.body.id}, { nomUsuario: req.body.username }, null, function (err) {","","\t\t\t\t//Si hay error","\t\t\t\tif (err){","\t\t\t      \t//Muestra por consola el error","\t\t\t    \tconsole.log('ERROR: ' + err);","\t\t\t    }else{","\t\t\t    \t//redireccionamos a la página /edita-pintxos","\t\t\t\t\tres.redirect('/profile');","\t\t\t\t\tconsole.log(req.body.id);","\t\t\t    }","","\t\t\t//Cierre del método update","\t\t\t});","\t\t","\t\t//Cierre de la función","\t});"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":80,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":1},"end":{"row":80,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":161,"column":0},"end":{"row":226,"column":71},"action":"remove","lines":["//BORRAR SI NO FUNCSIONA//////////////////////////","    app.post('/actualiza-usuarios',  isLoggedIn, function(req, res) {","        ","        //console.log(\"prueba\"+\" \"+req.body.id);","        //console.log(req.body.username);","","","        User.findById(req.body.id, function(err, user){","            if (!user)","                return next(new Error('Could not load Document'));","            else {","                ","                user.local.nomUsuario = req.body.username;","                user.local.email = req.body.email;","                user.local.sexo = req.body.gender;","                user.local.fechaNac = req.body.birthday;","","                user.save(function(err) {","                    if (err)","                        console.log('error');","                    else","                        console.log('success');","                    res.redirect('/profile');","                });","            }","        });","        ","        /*","        User.findById(req.body.id).lean().exec(function(err, p) {","          if (!p)","            return next(new Error('Could not load Document'));","          else {","            p = p.toJSON;","            User.update({_id: req.body.id},{$set:{nomUsuario: req.body.username, email: req.body.email, sexo: req.body.gender, fechaNac: req.body.birthday}}, function (err) {","            //Si hay error","            if (err){","                  //Muestra por consola el error","                console.log('ERROR: ' + err);","            }else{","                //redireccionamos a la página /edita-pintxos","                 res.redirect('/profile')","                 console.log('entra');","                 console.log(req.body.id);","                 console.log(p);","                console.log(req.body.username+\" 2\");","","            }","","        //Cierre del metodo update","        });","    */","            /*","            p.save(function(err) {","              if (err)","                console.log('error')","              else","                console.log('success')","            });","          }","        });*/","        ","        ","        ","    //Cierre de la función","    });","    ///////////////////////////////////////////////////////////////////"]}]}],[{"group":"doc","deltas":[{"start":{"row":161,"column":0},"end":{"row":226,"column":71},"action":"insert","lines":["//BORRAR SI NO FUNCSIONA//////////////////////////","    app.post('/actualiza-usuarios',  isLoggedIn, function(req, res) {","        ","        //console.log(\"prueba\"+\" \"+req.body.id);","        //console.log(req.body.username);","","","        User.findById(req.body.id, function(err, user){","            if (!user)","                return next(new Error('Could not load Document'));","            else {","                ","                user.local.nomUsuario = req.body.username;","                user.local.email = req.body.email;","                user.local.sexo = req.body.gender;","                user.local.fechaNac = req.body.birthday;","","                user.save(function(err) {","                    if (err)","                        console.log('error');","                    else","                        console.log('success');","                    res.redirect('/profile');","                });","            }","        });","        ","        /*","        User.findById(req.body.id).lean().exec(function(err, p) {","          if (!p)","            return next(new Error('Could not load Document'));","          else {","            p = p.toJSON;","            User.update({_id: req.body.id},{$set:{nomUsuario: req.body.username, email: req.body.email, sexo: req.body.gender, fechaNac: req.body.birthday}}, function (err) {","            //Si hay error","            if (err){","                  //Muestra por consola el error","                console.log('ERROR: ' + err);","            }else{","                //redireccionamos a la página /edita-pintxos","                 res.redirect('/profile')","                 console.log('entra');","                 console.log(req.body.id);","                 console.log(p);","                console.log(req.body.username+\" 2\");","","            }","","        //Cierre del método update","        });","    */","            /*","            p.save(function(err) {","              if (err)","                console.log('error')","              else","                console.log('success')","            });","          }","        });*/","        ","        ","        ","    //Cierre de la función","    });","    ///////////////////////////////////////////////////////////////////"]}]}],[{"group":"doc","deltas":[{"start":{"row":209,"column":22},"end":{"row":209,"column":23},"action":"remove","lines":["é"]}]}]]},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":2482,"scrollleft":0,"selection":{"start":{"row":209,"column":22},"end":{"row":209,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":176,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1421151812341,"hash":"15da6b50bbcf61c056d158627d765fc007e884ef"}