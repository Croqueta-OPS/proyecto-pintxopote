<!-- views/login.ejs -->
<!doctype html>
<html>
<head>
	<title>The Pintxopo</title>
	<meta charset="utf-8"/>
	
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="css/bootstrap.css"/>

	<!-- BootstrapValidator CSS -->
	<link rel="stylesheet" href="css/bootstrapValidator.min.css"/>

	
	<!-- jQuery and Bootstrap JS -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	
	<!-- BootstrapValidator JS -->
	<script type="text/javascript" src="js/bootstrapValidator.min.js"></script>
	<script type="text/javascript" src="js/language/es_ES.js"></script>
	
	<style>
		body { padding-top:80px; }
	</style>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="page-header">
                 <h2>Login</h2>
            </div>

	<!-- show any messages that come back with authentication -->
	<% if (message.length > 0) { %>
		<div class="alert alert-danger"><%= message %></div>
	<% } %>

	<!-- LOGIN FORM -->
	<form name="registrationForm" id="registrationForm" action="/login" method="post" class="form-horizontal">
		<div class="form-group">
            <label class="col-sm-3 control-label">Email</label>
                <div class="col-sm-5">
                     <input type="text" class="form-control" name="email" />
                </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Password</label>
                <div class="col-sm-5">
                   		<input type="password" class="form-control" name="password" />
                </div>
        </div>
		<div class="form-group">
            <div class="col-sm-9 col-sm-offset-3">
                <!-- Do NOT use name="submit" or id="submit" for the Submit button -->
                <button type="submit" class="btn btn-default">Login
                </button>
             </div>
            </div>
        </form>

	<hr>

	<p>¿Aún no tienes una cuenta? <a href="/signup">Signup</a></p>
	<p>O vete a <a href="/">inicio</a>.</p>

</div>

</div>
<script>
$(document).ready(function() {
    $('#registrationForm').bootstrapValidator({
        // To use feedback icons, ensure that you use Bootstrap v3.1.0 or later
        /*feedbackIcons: {
            valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },*/ //Nota Borja: mirar porque no funcionan los glyphicon con bootstrap
        fields: {
            email: {
                validators: {
                    notEmpty: {
                        message: 'No puedes dejar el email vacío'
                    },
                    emailAddress: {
                        message: 'No es un formato de email válido'
                    }
                }
            },
            password: {
                validators: {
                    notEmpty: {
                        message: 'No puedes dejar el password vacío'
                    },
                    different: {
                        field: 'username',
                        message: 'El password no puede ser el mismo que el nombre de usuario'
                    },
                    stringLength: {
                        min: 4,
                        message: 'El password debe tener como mínimo 4 caracteres'
                    }
                }
            }
        }
    });
});
</script>
</body>
</html>